<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
    <!-- Generic Data Table Component -->
    <div th:fragment="data-table(title, icon, endpoint, refreshable)" 
         th:id="${endpoint + '-table'}"
         class="bg-white rounded-lg shadow border border-gray-200">
        
        <!-- Header -->
        <div class="flex items-center justify-between px-6 py-4 border-b border-gray-200">
            <div class="flex items-center space-x-3">
                <svg th:if="${icon}" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" th:attr="d=${icon}" />
                </svg>
                <h2 class="text-lg font-medium text-gray-900" th:text="${title}">Table Title</h2>
            </div>
            
            <!-- Refresh Button -->
            <button th:if="${refreshable}"
                class="inline-flex items-center px-3 py-1.5 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"
                th:attr="hx-get=${endpoint}"
                hx-headers='{"Content-Type": "application/json"}'
                hx-indicator="#table-spinner"
                hx-swap="innerHTML transition:true"
                hx-trigger="click"
                hx-target="#table-content"
                title="Refresh list">
                <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" />
                </svg>
            </button>
        </div>

        <!-- Table Content Container -->
        <div class="overflow-hidden">
            <div id="table-content"
                 th:attr="hx-get=${endpoint}"
                 hx-headers='{"Content-Type": "application/json"}'
                 hx-indicator="#table-spinner"
                 hx-swap="innerHTML transition:true"
                 hx-trigger="load">
                <!-- Loading indicator -->
                <div class="flex justify-center items-center py-8">
                    <img alt="Loading..." class="h-8 w-8" src="https://htmx.org/img/bars.svg"/>
                </div>
            </div>
            <div class="flex justify-center py-4 htmx-indicator" id="table-spinner">
                <img alt="Loading..." class="h-8 w-8" src="https://htmx.org/img/bars.svg"/>
            </div>
        </div>
    </div>
</body>
</html> 